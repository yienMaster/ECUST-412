# Smartcar_Rearcar

---

## 介绍

后车代码(记录更新内容和时间)

![pid](\\Readme_Image\\后车pid.jpg)

![cpu分配](\\Readme_Image\\后车cpu分配.jpg)

---

## V20250123

第一次上传

已包含内容：

- 图像处理：找两个亮点

- 运动控制：电机舵机的驱动，速度环，方向环

- 上位机与LCD：网络连接，图传，pid参数显示

- EEPROM：pid参数的存储和取用

- 常用数学函数：数值转换与限制，限幅，滤波

---

## V20250124

更新了上位机代码，增加了是否图传标志位

---

## V20250125

增加了目标速度环的对应参数和显示参数

增加了目标速度环控制代码

更新LCD亮点标记代码

---

## V20250126

增加了速度环中真实速度低通滤波代码（注释）

优化逐飞库，删除了没用的外设库(有问题就回退上一版本)

---

## V20250127

更改了pid的输出，由int16变为float

---

## V20250129

增加引脚分配文件

---

## V20250201

增加LCD参数显示标志位，不让参数每次刷新占用时间

---

## V20250206

增加板载LED，蜂鸣器，无刷电调初始化和使用代码

增加按键检测功能

---

## V20250220

更新引脚配置为新主板

新主板测试所有功能正常，可正常使用（累死了）

---

## V20250304

更改LCD显示方向

增加速度环测试相关代码，供下地调速度环

---

## V20250320

新增找不到点停车代码

---

## V20250403

新增启动前馈代码

---

## V20250404

算法大改！！！

考虑到跟随很烂，现在跟随改成了速度一直按照前车设定的目标速度跑，目标速度环的输出改为目标速度增量，而不是绝对目标速度

启动停止更新：前车亮灯就启动，前车灭灯就停车（丢点且丢点位置在图像中间），运行过程中丢点（丢点位置在图像边缘）则盲跑0.5s，找不到点再停

位置环更新：丢点时方向打死

---

## V20250408

135速度前后稳定配合

---

## V20250409

优化找点函数

---

## V20250425

新增目标速度修改选项，参数跟随变化

---

## V20250514

新增菜单

新增目标距离随位置变化参数

---

## V20250602

距离环改为位置式，150能完赛

---

## V20250629

同步最新代码

---

## V20250630

优化菜单代码，按键调参可以直接存在rom里

---

## V20250701

修bug

---

## V20250706

修改动态p使用范围

---

## V20250722

忘记改啥了

---

## V20250727 !!!!!

省赛代码
